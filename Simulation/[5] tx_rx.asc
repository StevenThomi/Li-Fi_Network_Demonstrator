Version 4
SHEET 1 5828 1408
WIRE 3040 -1488 3040 -1520
WIRE 3040 -1488 2800 -1488
WIRE 3312 -1488 3040 -1488
WIRE 2800 -1440 2800 -1488
WIRE 3312 -1440 3312 -1488
WIRE 880 -1424 832 -1424
WIRE 992 -1424 960 -1424
WIRE 2048 -1392 1984 -1392
WIRE 2176 -1392 2128 -1392
WIRE 3888 -1376 3808 -1376
WIRE 4032 -1376 3952 -1376
WIRE 4160 -1376 4032 -1376
WIRE 992 -1360 992 -1424
WIRE 1040 -1360 992 -1360
WIRE 3312 -1344 3312 -1360
WIRE 3312 -1344 3200 -1344
WIRE 4032 -1344 4032 -1376
WIRE 2800 -1312 2800 -1360
WIRE 3312 -1312 3312 -1344
WIRE 880 -1296 832 -1296
WIRE 992 -1296 992 -1360
WIRE 992 -1296 960 -1296
WIRE 3200 -1296 3200 -1344
WIRE 3200 -1296 3136 -1296
WIRE 1616 -1280 1472 -1280
WIRE 1760 -1280 1616 -1280
WIRE 1824 -1280 1760 -1280
WIRE 1984 -1280 1984 -1392
WIRE 1984 -1280 1904 -1280
WIRE 2032 -1280 1984 -1280
WIRE 2176 -1264 2176 -1392
WIRE 2176 -1264 2096 -1264
WIRE 2240 -1264 2176 -1264
WIRE 2736 -1264 2688 -1264
WIRE 3408 -1264 3376 -1264
WIRE 2032 -1248 1984 -1248
WIRE 4032 -1232 4032 -1264
WIRE 1472 -1216 1472 -1280
WIRE 1616 -1216 1616 -1280
WIRE 1760 -1216 1760 -1280
WIRE 2800 -1104 2800 -1216
WIRE 3056 -1104 2800 -1104
WIRE 3312 -1104 3312 -1216
WIRE 3312 -1104 3056 -1104
WIRE 3056 -1056 3056 -1104
WIRE 1984 -1040 1984 -1248
WIRE 1984 -1040 1888 -1040
WIRE 2064 -1040 2064 -1056
WIRE 2064 -1040 1984 -1040
WIRE 1984 -1024 1984 -1040
WIRE 1888 -1008 1888 -1040
WIRE 16 -960 -112 -960
WIRE 64 -960 64 -1024
WIRE 64 -960 16 -960
WIRE 128 -960 64 -960
WIRE 240 -960 128 -960
WIRE 1472 -944 1472 -1136
WIRE 1616 -944 1616 -1136
WIRE 1760 -944 1760 -1136
WIRE -112 -928 -112 -960
WIRE 16 -928 16 -960
WIRE 128 -928 128 -960
WIRE 240 -928 240 -960
WIRE 976 -928 976 -1056
WIRE 976 -928 960 -928
WIRE 896 -880 768 -880
WIRE 768 -848 768 -880
WIRE -112 -832 -112 -864
WIRE 16 -832 16 -864
WIRE 128 -832 128 -864
WIRE 240 -832 240 -864
WIRE 976 -832 960 -832
WIRE 704 -800 656 -800
WIRE 2944 -768 2944 -816
WIRE 768 -704 768 -752
WIRE 976 -704 976 -832
WIRE 976 -704 768 -704
WIRE 3200 -688 3200 -816
WIRE 2944 -640 2944 -688
WIRE 3136 -640 2944 -640
WIRE 4048 -608 3808 -608
WIRE 4160 -592 4112 -592
WIRE 4048 -576 3968 -576
WIRE 4160 -560 4160 -592
WIRE 976 -544 976 -704
WIRE 1760 -528 1648 -528
WIRE 1872 -528 1840 -528
WIRE 2000 -528 1872 -528
WIRE 3968 -528 3968 -576
WIRE 1872 -480 1872 -528
WIRE 3200 -480 3200 -592
WIRE 3200 -480 3072 -480
WIRE 4160 -448 4160 -480
WIRE 4288 -448 4160 -448
WIRE 4160 -432 4160 -448
WIRE 1872 -384 1872 -416
WIRE 2944 -368 2944 -640
WIRE 3200 -368 3200 -480
WIRE 3072 -320 3072 -480
WIRE 3072 -320 3008 -320
WIRE 3136 -320 3072 -320
WIRE 4160 -304 4160 -352
WIRE 2944 -224 2944 -272
WIRE 3200 -224 3200 -272
WIRE 880 -48 880 -64
WIRE 992 -48 992 -64
WIRE 1104 -48 1104 -64
WIRE 880 48 880 32
WIRE 992 48 992 32
WIRE 1104 48 1104 32
FLAG 992 48 0
FLAG 992 -64 V+
FLAG 1104 48 0
FLAG 1104 -64 Vcc
FLAG 880 48 0
FLAG 880 -64 Vin
FLAG 832 -1296 V+
FLAG 832 -1424 Vin
FLAG 2064 -1136 V+
FLAG 2064 -1296 V+
FLAG 1984 -944 0
FLAG 1888 -944 0
FLAG 2064 -1232 0
FLAG 1760 -944 0
FLAG 2240 -1264 Vout2
FLAG 1616 -944 0
FLAG 3040 -1520 V+
FLAG 1040 -1360 Vout1
FLAG 3056 -1056 I_curr
FLAG 2944 -224 0
FLAG 3200 -224 0
FLAG 2944 -816 V+
FLAG 3200 -816 I_curr
FLAG 3136 -1296 Vout4
FLAG 2688 -1264 Vout2
FLAG 3408 -1264 Vout3
FLAG 4032 -1232 0
FLAG 3808 -1376 Vout4
FLAG 4160 -1376 Vout5
FLAG 976 -1056 V+
FLAG 656 -800 Vout1
FLAG 128 -832 0
FLAG 240 -832 0
FLAG 16 -832 0
FLAG -112 -832 0
FLAG 1472 -944 0
FLAG 4080 -560 V+
FLAG 4080 -624 0
FLAG 4288 -448 Vout6
FLAG 3968 -528 0
FLAG 3808 -608 Vout5
FLAG 1872 -384 0
FLAG 1648 -528 Vout2
FLAG 2000 -528 Vout3
FLAG 4160 -304 0
FLAG 976 -544 I_SP
FLAG 64 -1024 I_SP
SYMBOL voltage 992 -64 R0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL voltage 1104 -64 R0
SYMATTR InstName V4
SYMATTR Value 10
SYMBOL voltage 880 -64 R0
WINDOW 3 24 96 Invisible 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=uart_vol.txt
SYMATTR InstName V1
SYMBOL res 976 -1440 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_1
SYMATTR Value 1k
SYMBOL res 976 -1312 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R_2
SYMATTR Value 1k
SYMBOL Opamps/OP07 2064 -1328 R0
SYMATTR InstName U3
SYMBOL res 2048 -1152 R0
SYMATTR InstName R8
SYMATTR Value 180k
SYMBOL res 1968 -1040 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap 1872 -1008 R0
SYMATTR InstName C5
SYMATTR Value 0.1n
SYMBOL res 2144 -1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 100k
SYMBOL current 1760 -1216 R0
WINDOW 3 -900 1387 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=uart_cur.txt
SYMATTR InstName P_DIODE1
SYMBOL res 1920 -1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL npn 2736 -1312 R0
SYMATTR InstName Q3
SYMBOL npn 3376 -1312 M0
SYMATTR InstName Q4
SYMBOL res 2784 -1456 R0
SYMATTR InstName R1
SYMATTR Value 2k
SYMBOL res 3296 -1456 R0
SYMATTR InstName R5
SYMATTR Value 2k
SYMBOL npn 3136 -368 R0
SYMATTR InstName Q6
SYMATTR Value 2N2222
SYMBOL npn 3136 -688 R0
SYMATTR InstName Q7
SYMATTR Value 2N2222
SYMBOL npn 3008 -368 M0
SYMATTR InstName Q8
SYMATTR Value 2N2222
SYMBOL res 2928 -784 R0
SYMATTR InstName R7
SYMATTR Value 1.64k
SYMBOL res 4048 -1248 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL cap 3952 -1392 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL npn 704 -848 R0
SYMATTR InstName Q2
SYMATTR Value 2N2222
SYMBOL pnp 896 -832 M180
SYMATTR InstName Q5
SYMATTR Value 2N2907
SYMBOL LED 112 -928 R0
WINDOW 3 9 126 VRight 2
SYMATTR Value LED_model
SYMATTR InstName LED4
SYMBOL LED 224 -928 R0
WINDOW 3 9 126 VRight 2
SYMATTR Value LED_model
SYMATTR InstName LED5
SYMBOL LED 0 -928 R0
WINDOW 3 9 126 VRight 2
SYMATTR Value LED_model
SYMATTR InstName LED6
SYMBOL LED -128 -928 R0
WINDOW 3 9 126 VRight 2
SYMATTR Value LED_model
SYMATTR InstName LED1
SYMBOL current 1616 -1216 R0
WINDOW 3 -755 1434 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=uart_cur.txt
SYMATTR InstName P_DIODE2
SYMBOL Opamps/OP07 4080 -528 M180
SYMATTR InstName U1
SYMBOL res 1744 -512 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap 1888 -416 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C2
SYMATTR Value 1.6µ
SYMBOL res 4144 -576 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res 4144 -448 R0
SYMATTR InstName R6
SYMATTR Value 47k
SYMBOL current 1472 -1216 R0
WINDOW 3 -755 1434 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PWL file=uart_cur.txt
SYMATTR InstName P_DIODE3
TEXT 856 104 Left 2 !.tran 10ms
TEXT 840 -1624 Left 2 ;ADD OFFSET
TEXT 920 -1912 Center 7 ;TX CIRCUIT
TEXT 2880 -1920 Center 7 ;RX CIRCUIT
TEXT 856 136 Left 2 !.model LED_model D(IS=3e-18 RS=17 N=2)
TEXT 1856 -1624 Left 2 ;TRANSIMPENDENCE AMPLIFIER - I/V
TEXT 2744 -1624 Left 2 ;DIFFERENTIAL AMPLIFIER - BALANCED DETECTION
TEXT 2944 -944 Left 2 ;WILSON CURRENT SOURCE
TEXT 728 -1136 Left 2 ;SZIKLAI PAIR - AMPLIFY CURRENT
TEXT -128 -1168 Left 2 ;LED ARRAY - ELECTRIC TO OPTICAL
LINE Normal 1396 -1376 1396 -752 2
RECTANGLE Normal 832 -112 1168 80 2
